---
title:  LLM - 提示词工程
author: Chenyang Tang
published: true
date: 2025-05-30 11:19:55
tags:
- LLM
- OpenAI
categories:
- LLM
---


# LLM - 提示词工程

前面的文章我们介绍了什么是AI，并且用一个例子快速体验了AI。  

接下来，我们来了解一下OpenAI的提示词工程，以及如何使用OpenAI的提示词工程来提升模型的效果。

---


我们先来准备一个 `chat` 方法，以便我们能够与OpenAI进行交互。   
```python
BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1" # 阿里云的 API 地址
API_KEY="***" # 替换为你的 API KEY
MODEL="qwen-turbo-latest"

from openai import OpenAI
client = OpenAI(base_url=BASE_URL, api_key=API_KEY)

def chat(message):
    response = client.chat.completions.create(
        model=MODEL,
        messages=[
            {"role": "user", "content": message}
        ],
    )
    response_content = response.choices[0].message.content
    return response_content

```

## 不好的提示词  
我们先来看一下不好的提示词是什么样子  

假设我们刚刚学习了孟浩然的五言律诗《春晓》，然后想让AI也帮我们创作一首关于春天的诗：

```python
print(chat("帮我写一首关于春天的诗"))
```
AI 帮我们生成了这个结果：  
```text
《春的邮戳》

风拆开柳枝的信封，
抖落一地鹅黄的动词。
燕子用尾羽蘸水，
在池塘的空白处，
盖一枚淡蓝的邮戳。
```
看上去像是一首诗，但是是不是不知道具体属于哪一类? 也不知道具体在表达什么？

这是因为我们只向AI提供了一个模糊的问题，关键信息只有`春天` 和 `诗`，除此之外再没有其他的细节和背景信息，因此AI只能基于有限的上下文来生成答案。

## 好的提示词
如果我们想让AI的回答更符合我们的期望，我们需要把 `心里话` 说出来，提供更多的细节和信息，比如：  

```python
print(chat("帮我写一首关于春天的五言律诗，表达一切刚刚开始，作者发自内心的喜悦和激动，以及对未来美好生活的憧憬。诗的名字用书名号括起来"))
```
AI 的回答：

```text
《春望》

东君初试手，万象始更新。
冻解溪声脆，泥融草色匀。
开轩纳清气，把酒谢芳邻。
莫负扶摇力，青云寄此身。
```
这次看起来是不是很像那么回事儿，符合我们想要的五言律诗的格式。 并且 `东君处试手，万象始更新` 示意了春意初生，天地欣荣，充满希望；`莫负扶摇力，青云寄此身` 由景入志，抒发诗人不愿辜负大好春光、立志奋发、未来可期的抱负。

## 提示词优化建议
前面的例子展示了如何通过补充细节和背景信息来提升模型的效果，效果还不错吧？ 

总的来说，我们可以对提示词进行以下方面的优化，来提高模型的准确性和可读性：
- 限定角色
- 限定行业领域
- 向AI提供更多的细节和上下文
- 限定输出格式
- 向AI展示样例

比如我们想让AI扮演一个古诗词专家的角色，对刚才AI生成的诗来做一个点评  


```python
print(chat('''
你是一个文学专家
专注于研究七言律诗
帮我点评一下这首诗写的如何
逐字逐词分析一下用了什么意象，表达了什么感情。

输出格式为：
=========================================
<编号>. <诗句>。
  ⭐️ <关键词>: <解释及点评 比如出自哪里，寓意是是什么等>。
  ✅ 意境: <本句诗的意境>
  ✅ 技巧: <本句诗的技巧>
  ✅ 情感: <本句诗的情感>
=========================================
总结：
✅ 题目：<本诗的题目>
✅ 体裁：<本诗的体裁>
✅ 主题：<本诗的主题>
✅ 情感：<本诗表达的情感>
✅ 点评：<你对本诗的整体评价>
=========================================

本诗如下：
"""
《春望》

东君初试手，万象始更新。
冻解溪声脆，泥融草色匀。
开轩纳清气，把酒谢芳邻。
莫负扶摇力，青云寄此身。
"""
'''
))

```
AI 的回答：
```text
以下是对《春望》的逐句解析与整体点评，严格遵循您要求的格式：

=========================================
1. 东君初试手，万象始更新。
  ⭐️ 东君：典出《楚辞·九歌》，司春之神，象征生命萌发。
  ⭐️ 万象更新：化用《红楼梦》"万象争辉"句，暗含除旧布新之意。
  ✅ 意境：神明轻拂人间，天地苏醒的宏观画卷。
  ✅ 技巧：拟人（"试手"）+ 对仗（东君/万象）。
  ✅ 情感：对自然伟力的敬畏与欣喜。

2. 冻解溪声脆，泥融草色匀。
  ⭐️ 冻解/泥融：出自杜甫《绝句》"泥融飞燕子"，暗含温度变化。
  ⭐️ 脆/匀：通感手法（听觉转视觉），"脆"字尤妙。
  ✅ 意境：微观视角的春之交响曲。
  ✅ 技巧：工对（冻解/泥融）+ 炼字（"脆"字点睛）。
  ✅ 情感：发现细微之美的愉悦。

3. 开轩纳清气，把酒谢芳邻。
  ⭐️ 开轩：陶渊明《归去来兮辞》"倚南窗以寄傲"的化用。
  ⭐️ 芳邻：王勃"接孟氏之芳邻"的简写，喻自然万物。
  ✅ 意境：文人雅士与春日的互动仪式。
  ✅ 技巧：动作叙事（开/把）+ 用典无痕。
  ✅ 情感：闲适自得的隐逸情怀。

4. 莫负扶摇力，青云寄此身。
  ⭐️ 扶摇：《庄子·逍遥游》典故，喻机遇。
  ⭐️ 青云：双关自然景象与仕途抱负。
  ✅ 意境：春日引发的生命哲思。
  ✅ 技巧：转折（前实后虚）+ 双关。
  ✅ 情感：积极进取的入世志向。
=========================================

总结：
✅ 题目：《春望》——"望"字统领全篇视觉层次
✅ 体裁：五言律诗（首联不对仗，二三联工对）
✅ 主题：通过春日物候变化抒发人生感怀
✅ 情感：由自然欣喜转向功业追求，形成张力
✅ 点评：
1. 优点：典故运用自然如盐入水，炼字精准（脆/匀/纳），空间由远及近再及远
2. 建议：尾联"青云"可更含蓄，避免与杜甫《望岳》意象重复
3. 文学史定位：得王维山水诗之清丽，兼有杜甫沉郁之思

（全诗符合"起承转合"结构，80分作品，若颈联能创新意象则更佳）

```


怎么样，对这个回答还满意吗？ 这就是提示词工程的魅力！ 

希望这个例子能帮助你更好地理解 OpenAI 的提示词工程，以及如何使优化我们的提示词来提升模型的效果。 

如果有任何问题或需要进一步的帮助，欢迎在评论区留言。
